# Staging/Dev Environment Configuration
# Use this for Azure staging deployment

# Server
NODE_ENV=production
PORT=8045

# Deployment Environment - REQUIRED for staging to enable AI features
# This distinguishes staging from production (both use NODE_ENV=production for builds)
DEPLOY_ENV=staging
ALLOWED_ORIGINS=https://church-platform-web-staging.azurewebsites.net

# Database - Azure PostgreSQL Flexible Server
DATABASE_URL=postgresql://username:password@church-db-staging.postgres.database.azure.com:5432/elder_first?sslmode=require
DATABASE_SSL=true

# Azure (for managed identity or Key Vault access if needed)
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret

# Logging
LOG_LEVEL=info

# AI / OpenAI
# API key is now stored encrypted in database via Settings â†’ AI
# APP_ENCRYPTION_KEY is REQUIRED for AI features (32-byte hex key, 64 chars)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Store in Azure Key Vault and reference via app settings
APP_ENCRYPTION_KEY=
# OPENAI_API_KEY is deprecated - configure via Settings UI after deployment
